<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension-point id="ovap.video.module.manager" name="ModuleManager" schema="schema/ovap.video.module.manager.exsd"/>
   <extension-point id="ovap.video.source.manager" name="SourceManager" schema="schema/ovap.video.source.manager.exsd"/>
   <extension-point id="ovap.video.filter.manager" name="FilterManager" schema="schema/ovap.video.filter.manager.exsd"/>
   <extension
         point="org.eclipse.ui.startup">
      <startup
            class="ovap.video.VideoManager"></startup>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="ovap.video.handlers.StartStreamHandler"
            commandId="ovap.video.streaming.command.start">
         <enabledWhen>
            <with
                  variable="ovap.video.streaming.enable.resume">
               <equals
                     value="enabled">
               </equals>
            </with>
         </enabledWhen>
      </handler>
      <handler
            class="ovap.video.handlers.StopStreamHandler"
            commandId="ovap.video.streaming.command.stop">
         <enabledWhen>
            <with
                  variable="ovap.video.streaming.enable.stop">
               <equals
                     value="enabled">
               </equals>
            </with></enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="toolbar:org.eclipse.ui.main.toolbar">
         <toolbar
               id="ovap.video.streaming.toolbar"
               label="Streaming">
            <command
                  commandId="ovap.video.streaming.command.start"
                  icon="icons/streaming/resume_co.gif"
                  style="push"
                  tooltip="Start Streaming">
            </command>
            <command
                  commandId="ovap.video.streaming.command.stop"
                  icon="icons/streaming/stop.gif"
                  style="push"
                  tooltip="Stop Streaming">
            </command>
         </toolbar>
      </menuContribution>
      <menuContribution
            allPopups="false"
            locationURI="menu:org.eclipse.ui.main.menu">
         <menu
               id="streaming.menu"
               label="Streaming">
            <command
                  commandId="ovap.video.streaming.command.start"
                  icon="icons/streaming/resume_co.gif"
                  label="Start Streaming"
                  style="push">
            </command>
            <command
                  commandId="ovap.video.streaming.command.stop"
                  icon="icons/streaming/stop.gif"
                  label="Stop Streaming"
                  style="push"
                  tooltip="Stop Streaming">
            </command>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            description="Streaming"
            id="ovap.video.streaming.category"
            name="Streaming">
      </category>
      <command
            categoryId="ovap.video.streaming.category"
            description="Start Streaming"
            id="ovap.video.streaming.command.start"
            name="Start">
      </command>
      <command
            categoryId="ovap.video.streaming.category"
            description="Stop Streaming"
            id="ovap.video.streaming.command.stop"
            name="Stop">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.services">
      <sourceProvider
            provider="ovap.video.StreamingStateProvider">
         <variable
               name="ovap.video.streaming.enable.stop"
               priorityLevel="workbench">
         </variable>
         <variable
               name="ovap.video.streaming.enable.resume"
               priorityLevel="workbench">
         </variable>
         <variable
               name="ovap.video.streaming.state"
               priorityLevel="workbench">
         </variable>
      </sourceProvider>
   </extension>
   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            delegate="ovap.video.launch.OVAPLaunchDelegate"
            id="ovap.video.launch.stream"
            modes="run,debug"
            name="OVAP Stream"
            public="true">
      </launchConfigurationType>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            class="ovap.video.launch.ui.LaunchStreamTabGroup"
            id="ovap.video.launch.stream.tabgroup"
            type="ovap.video.launch.stream">
      </launchConfigurationTabGroup>
   </extension>
</plugin>
